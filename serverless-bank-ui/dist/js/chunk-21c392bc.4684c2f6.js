(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21c392bc"],{"0b42":function(t,n,e){var c=e("da84"),a=e("e8b5"),o=e("68ee"),r=e("861d"),u=e("b622"),i=u("species"),s=c.Array;t.exports=function(t){var n;return a(t)&&(n=t.constructor,o(n)&&(n===s||a(n.prototype))?n=void 0:r(n)&&(n=n[i],null===n&&(n=void 0))),void 0===n?s:n}},"1dde":function(t,n,e){var c=e("d039"),a=e("b622"),o=e("2d00"),r=a("species");t.exports=function(t){return o>=51||!c((function(){var n=[],e=n.constructor={};return e[r]=function(){return{foo:1}},1!==n[t](Boolean).foo}))}},"65f0":function(t,n,e){var c=e("0b42");t.exports=function(t,n){return new(c(t))(0===n?0:n)}},"77be":function(t,n,e){"use strict";e.r(n);var c=e("7a23"),a={class:"account"},o=Object(c["g"])("h1",null,"Account Detail",-1),r={key:0,class:"topMargin50 bottomMargin50"},u={key:1},i={key:0,class:"topMargin50"},s=Object(c["h"])(" Account number "),l=Object(c["h"])(" was not found "),d={key:1},b=Object(c["h"])(" Account Number: "),p={class:"accountData"},f=Object(c["h"])(" Account Balance: "),h={class:"accountData"},m={class:"newTransaction topMargin50"},j=Object(c["g"])("h1",null,"New Transaction",-1),O=Object(c["g"])("h4",null,"Transaction Type:",-1),g=Object(c["g"])("option",{value:"Deposit"},"Deposit",-1),v=Object(c["g"])("option",{value:"Withdrawal"},"Withdrawal",-1),A=[g,v],y=Object(c["g"])("h4",null,"Amount:",-1),T={id:"amountDiv"},w=Object(c["g"])("span",{id:"amountLabel"},"$Â ",-1),C={id:"amountInput"},k={key:0,class:"errMsg"};function B(t,n,e,g,v,B){var D=Object(c["y"])("pulse-loader");return Object(c["t"])(),Object(c["f"])("div",a,[o,v.loading?(Object(c["t"])(),Object(c["f"])("div",r,[Object(c["i"])(D)])):(Object(c["t"])(),Object(c["f"])("div",u,[null===v.balance?(Object(c["t"])(),Object(c["f"])("div",i,[Object(c["g"])("p",null,[s,Object(c["g"])("strong",null,Object(c["A"])(v.account),1),l])])):(Object(c["t"])(),Object(c["f"])("div",d,[Object(c["g"])("p",null,[b,Object(c["g"])("span",p,Object(c["A"])(v.account),1)]),Object(c["g"])("p",null,[f,Object(c["g"])("span",h,Object(c["A"])(B.numToUSD(v.balance)),1)]),Object(c["g"])("div",{class:"btn topMargin15",onClick:n[0]||(n[0]=function(){return B.deleteAccount&&B.deleteAccount.apply(B,arguments)})},"CLOSE ACCOUNT"),Object(c["g"])("div",m,[j,O,Object(c["H"])(Object(c["g"])("select",{name:"transactionType",id:"transactionType","onUpdate:modelValue":n[1]||(n[1]=function(t){return v.transactionType=t})},A,512),[[c["C"],v.transactionType]]),y,Object(c["g"])("div",T,[w,Object(c["g"])("span",C,[Object(c["H"])(Object(c["g"])("input",{name:"amount",id:"amount","onUpdate:modelValue":n[2]||(n[2]=function(t){return v.transactionAmount=t}),type:"number",placeholder:"0.00"},null,512),[[c["D"],v.transactionAmount]])])]),Object(c["g"])("div",{class:Object(c["o"])(v.transactionType&&v.transactionAmount&&!isNaN(v.transactionAmount)&&v.transactionAmount>0?"btn topMargin50":"disabledBtn topMargin50"),onClick:n[3]||(n[3]=function(){return B.updateBalance&&B.updateBalance.apply(B,arguments)})},"SUBMIT",2),Object(c["g"])("div",{class:"btn topMargin50",onClick:n[4]||(n[4]=function(){return B.clearSelected&&B.clearSelected.apply(B,arguments)})},"CLEAR"),v.message?(Object(c["t"])(),Object(c["f"])("p",k,Object(c["A"])(v.message),1)):Object(c["e"])("",!0)])])),Object(c["g"])("div",{class:"btn topMargin50",onClick:n[5]||(n[5]=function(){return B.returnHome&&B.returnHome.apply(B,arguments)})}," BACK TO ACCOUNT LIST ")]))])}var D=e("1da1"),M=(e("96cf"),e("d3b7"),e("99af"),e("8a5d")),S={name:"Account",components:{PulseLoader:M["a"]},data:function(){return{account:this.$route.params.id,balance:null,transactionType:null,transactionAmount:null,message:null,loading:!0}},methods:{getAccountBalance:function(){var t=this;fetch("".concat("http://localhost:3001/","dev/balance?account=").concat(this.account),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(n){var e;t.balance=null!==(e=n.balance)&&void 0!==e?e:null,t.loading=!1})).catch((function(t){return console.error("getAccountBalance error:",t)}))},numToUSD:function(t){var n=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return n.format(t)},deleteAccount:function(){var t=this;fetch("".concat("http://localhost:3001/","dev/account?account=").concat(this.account),{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(n){console.log("Deleted account #",n.account),t.returnHome()})).catch((function(t){return console.error("deleteAccount error:",t)}))},updateBalance:function(){var t=this;if(this.transactionType&&this.transactionAmount&&!isNaN(this.transactionAmount)&&!(this.transactionAmount<0)){var n="Withdrawal"===this.transactionType?-1*this.transactionAmount:this.transactionAmount;this.balance+n<0?this.message="Error! Cannot withdraw more than the account balance":fetch("".concat("http://localhost:3001/","dev/balance?account=").concat(this.account,"&amount=").concat(n),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(n){t.balance=n.newBalance,t.clearSelected()})).catch((function(n){console.error("updateBalance error:",n),t.message="Error! Could not update account balance"}))}},clearSelected:function(){this.transactionType=null,this.transactionAmount=null,this.message=null},returnHome:function(){this.$router.push("/")}},mounted:function(){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.getAccountBalance();case 1:case"end":return n.stop()}}),n)})))()}},U=e("6b0d"),x=e.n(U);const E=x()(S,[["render",B]]);n["default"]=E},8418:function(t,n,e){"use strict";var c=e("a04b"),a=e("9bf2"),o=e("5c6c");t.exports=function(t,n,e){var r=c(n);r in t?a.f(t,r,o(0,e)):t[r]=e}},"99af":function(t,n,e){"use strict";var c=e("23e7"),a=e("da84"),o=e("d039"),r=e("e8b5"),u=e("861d"),i=e("7b0b"),s=e("07fa"),l=e("8418"),d=e("65f0"),b=e("1dde"),p=e("b622"),f=e("2d00"),h=p("isConcatSpreadable"),m=9007199254740991,j="Maximum allowed index exceeded",O=a.TypeError,g=f>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),v=b("concat"),A=function(t){if(!u(t))return!1;var n=t[h];return void 0!==n?!!n:r(t)},y=!g||!v;c({target:"Array",proto:!0,forced:y},{concat:function(t){var n,e,c,a,o,r=i(this),u=d(r,0),b=0;for(n=-1,c=arguments.length;n<c;n++)if(o=-1===n?r:arguments[n],A(o)){if(a=s(o),b+a>m)throw O(j);for(e=0;e<a;e++,b++)e in o&&l(u,b,o[e])}else{if(b>=m)throw O(j);l(u,b++,o)}return u.length=b,u}})},e8b5:function(t,n,e){var c=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==c(t)}}}]);
//# sourceMappingURL=chunk-21c392bc.4684c2f6.js.map